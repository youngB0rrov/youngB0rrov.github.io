{"version":3,"sources":["components/ArrowDown.jsx","components/ArrowUp.jsx","components/Table.jsx","components/Preloader.jsx","components/CurrentRowData.jsx","components/Input.jsx","components/SelectFilter.jsx","components/Paginator.jsx","App.js","index.js"],"names":["ArrowDown","className","src","alt","ArrowUp","Table","data","sortData","getRowData","sortDirection","useState","field","setField","DirectionArrow","map","item","index","scope","onClick","getFieldName","Object","keys","text","Preloader","CurrentRowData","row","Input","filterSearch","type","placeholder","id","onChange","e","target","value","Filter","getSelect","style","marginRight","defaultValue","display","hidden","Paginator","itemsPerPage","totalItemsAmount","paginate","isFiltered","filterData","getItemsPerPage","pageNumbers","length","i","Math","ceil","push","App","setData","setIsFiltered","filerData","setFilterData","isLoading","setIsLoading","setSortDirection","rowData","setRowData","select","setSelect","currentPage","setCurrentPage","setItemsPerPage","lastItemIndex","firstItemIndex","currentItems","setCurrentItems","useEffect","axios","get","then","res","slice","filterStr","arrayFilter","filter","toString","toLowerCase","includes","sortArray","sort","a","b","pageNumber","console","log","ReactDOM","render","document","getElementById"],"mappings":"sOAUeA,EARG,WAChB,OACI,sBAAMC,UAAU,iBAAhB,SACE,qBAAKC,IAAI,oBAAoBC,IAAI,kBCK1BC,EARC,WACd,OACI,sBAAMH,UAAU,iBAAhB,SACE,qBAAKC,IAAI,kBAAkBC,IAAI,gBC2CxBE,G,MA1CD,YAAwD,IAA7CC,EAA4C,EAA5CA,KAAMC,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,cAEnD,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAiB,WACrB,OACMJ,EAAgC,cAAC,EAAD,IAAf,cAAC,EAAD,KAOvB,OACI,qBAAKR,UAAU,aAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACA,6BAfM,CAAC,KAAM,SAAU,UAAW,SAAU,QAAS,YAAa,eAgBvDa,KAAI,SAACC,EAAMC,GAAP,OACT,qBAAIC,MAAM,MAENhB,UAAU,cACViB,QAAS,YAbR,SAACP,GACpBJ,EAASI,GACTC,EAASD,GAWyBQ,CAAaJ,IAHjC,UAIKA,EAJL,IAIYJ,IAAUI,EAAO,cAACF,EAAD,IAAoB,OAHhC,GAARG,UAQf,gCACGV,EAAKQ,KAAI,SAACC,EAAMC,GAAP,OACF,oBAAgBE,QAAS,WAAOV,EAAWO,IAAQd,UAAU,aAA7D,SACGmB,OAAOC,KAAKN,GAAMD,KAAI,SAACQ,EAAMN,GAAP,OACnB,oBAAoBf,UAAU,cAA9B,SACa,cAATqB,GAAwC,IAAfP,EAAKO,GAAiB,MAAQ,KAAQP,EAAKO,IADvD,EAARN,OAFNA,e,iBCzBhBO,EARG,WAChB,OACI,qBAAKtB,UAAU,YAAf,SACE,yDCoBOuB,EAvBQ,YAAkB,IAAPC,EAAM,EAANA,IAChC,OACI,qBAAKxB,UAAU,UAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACE,6BACGmB,OAAOC,KAAKI,GAAKX,KAAI,SAACC,EAAMC,GAAP,OACpB,oBAAIC,MAAM,MAAV,SAAiCF,GAAJ,EAARC,UAI3B,gCACE,6BACGI,OAAOC,KAAKI,GAAKX,KAAI,SAACC,EAAMC,GAAP,OAClB,6BAA0B,cAATD,GAAuC,IAAdU,EAAIV,GAAiB,MAAQ,KAAQU,EAAIV,IAA1EC,gBCHZU,G,MATD,YAA2B,IAAhBC,EAAe,EAAfA,aAEvB,OACI,qBAAK1B,UAAU,eAAf,SACE,uBAAO2B,KAAK,OAAOC,YAAY,gBAAgBC,GAAG,eAAeC,SAAU,SAACC,GAAOL,EAAaK,EAAEC,OAAOC,cCWlGC,EAjBA,YAAwB,IAAbC,EAAY,EAAZA,UACxB,OACI,iCACE,sBAAMC,MAAO,CAACC,YAAa,QAA3B,2BACA,yBAAQC,aAAa,KAAKR,SAAU,SAACC,GAAOI,EAAUJ,IAAKK,MAAO,CAACG,QAAS,gBAA5E,UACA,wBAAQC,QAAM,EAAd,iCACA,wBAAQP,MAAM,KAAd,gBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,cAAd,gCCwBOQ,G,MAnCG,YAAgG,IAArFC,EAAoF,EAApFA,aAAcC,EAAsE,EAAtEA,iBAAkBC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,gBACvFC,EAAc,GACpB,GAAIH,EAIG,CACLG,EAAYC,OAAS,EACrB,IAAI,IAAIC,EAAI,EAAGA,GAAKC,KAAKC,KAAKN,EAAWG,OAASP,GAAeQ,IAC/DF,EAAYK,KAAKH,QANnB,IAAK,IAAIA,EAAI,EAAGA,GAAKC,KAAKC,KAAKT,EAAmBD,GAAeQ,IAC/DF,EAAYK,KAAKH,GAQrB,OACI,sBAAKlD,UAAU,YAAf,UACE,mBAAGA,UAAU,kBAAb,8BACA,yBAAQA,UAAU,mBACVsC,aAAa,iBACbR,SAAU,SAACC,GAAOgB,EAAgBhB,IAF1C,UAIE,wBAAQE,MAAM,IAAd,eACA,wBAAQA,MAAM,IAAd,eACA,wBAAQA,MAAM,IAAd,kBAEF,oBAAIjC,UAAU,aAAd,SAEIgD,EAAYnC,KAAI,SAACC,EAAMC,GAAP,OACZ,oBAAIf,UAAU,kBAAd,SACE,mBAAGiB,QAAS,WAAO2B,EAAS9B,IAA5B,SAAqCA,KADM,GAARC,a,MCuFtCuC,MAzGf,WACE,MAAkC7C,oBAAS,GAA3C,mBACA,GADA,UACwBA,mBAAS,KAAjC,mBAAOJ,EAAP,KAAakD,EAAb,KACA,EAAoC9C,oBAAS,GAA7C,mBAAOoC,EAAP,KAAmBW,EAAnB,KACA,EAAmC/C,mBAAS,IAA5C,mBAAOgD,EAAP,KAAkBC,EAAlB,KACA,EAAkCjD,oBAAS,GAA3C,mBAAOkD,EAAP,KAAkBC,EAAlB,KACA,EAA0CnD,oBAAS,GAAnD,mBAAOD,EAAP,KAAsBqD,EAAtB,KACA,EAA8BpD,mBAAS,IAAvC,mBAAOqD,EAAP,KAAgBC,EAAhB,KACA,EAA4BtD,mBAAS,MAArC,mBAAOuD,EAAP,KAAeC,EAAf,KAEA,EAAsCxD,mBAAS,GAA/C,mBAAOyD,EAAP,KAAoBC,EAApB,KACA,EAAwC1D,mBAAS,GAAjD,mBAAOiC,EAAP,KAAqB0B,EAArB,KACMC,EAAgBH,EAAcxB,EAC9B4B,EAAiBD,EAAgB3B,EACvC,EAAwCjC,mBAAS,IAAjD,mBAAO8D,EAAP,KAAqBC,EAArB,KAoEA,OAVAC,qBAAU,WACRC,IAAMC,IAhEQ,0CAiETC,MAAK,SAACC,GACDtB,EAAQsB,EAAIxE,KAAKA,MACjBmE,EAAgBK,EAAIxE,KAAKA,KAAKyE,MAAMR,EAAgBD,IACpDT,GAAa,QAGtB,IAGD,sBAAK5D,UAAU,YAAf,UACI2D,EAAc,cAAC,EAAD,IAAiB,gCAC/B,cAAC,EAAD,CAAOjC,aA7CO,SAACO,GACnBuB,GAAc,GACd,IAAMuB,EAAY9C,EACZ+C,EAAc3E,EAAK4E,QAAO,SAACnE,EAAMC,GACrC,OAAOD,EAAKkD,GAAQkB,WAAWC,cAAcC,SAASL,EAAUI,kBAE9DJ,GAIFP,EAAgBQ,EAAYF,MAAMR,EAAgBD,IAClDX,EAAcsB,KAJdR,EAAgBnE,EAAKyE,MAAMR,EAAgBD,IAC3Cb,GAAc,OAoCmB,IACK,cAAC,EAAD,CAAQrB,UAjD/B,SAACJ,GAClBkC,EAAUlC,EAAEC,OAAOC,UAiDf,cAAC,EAAD,CAAO5B,KAAMkE,EACNjE,SAhCQ,SAACI,GACpB,IACM2E,EADYd,EAAaO,QACHQ,MAAK,SAACC,EAAGC,GACnC,OAAGhF,EACO+E,EAAE7E,GAAS8E,EAAE9E,GAAS,GAAK,EAE3B6E,EAAE7E,GAAS8E,EAAE9E,IAAU,EAAI,KAGvC8D,EAAgBa,GAChBxB,GAAkBrD,IAuBPD,WApBM,SAACO,GAClBiD,EAAWjD,IAoBAN,cAAeA,OAGxB,cAAC,EAAD,CAAgBgB,IAAKsC,IACrB,cAAC,EAAD,CACIpB,aAAcA,EACdC,iBAAkBtC,EAAK4C,OACvBL,SAvES,SAAC6C,GAChBtB,EAAesB,GACfC,QAAQC,IAAIzB,GACZwB,QAAQC,IAAIrB,EAAgBD,GAE1BG,EADC3B,EACeY,EAAUqB,MAAMR,EAAgBD,GAEhChE,EAAKyE,MAAMR,EAAgBD,KAiEvCxB,WAAYA,EACZC,WAAYW,EACZV,gBAnFgB,SAAChB,GACvBqC,EAAgBrC,EAAEC,OAAOC,OAEvBuC,EADC3B,EACeY,EAAUqB,MAAMR,EAAgBD,GAEhChE,EAAKyE,MAAMR,EAAgBD,W,MC3BjDuB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.5ae9d450.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst ArrowDown = function () {\r\n  return (\r\n      <span className=\"directionArrow\">\r\n        <img src=\"triangle_down.png\" alt=\"arrow down\"/>\r\n      </span>\r\n  )\r\n}\r\n\r\nexport default ArrowDown;","import React from \"react\";\r\n\r\nconst ArrowUp = function () {\r\n  return (\r\n      <span className=\"directionArrow\">\r\n        <img src=\"triangle_up.png\" alt=\"arrow up\"/>\r\n      </span>\r\n  )\r\n}\r\n\r\nexport default ArrowUp;","import React, {useState} from \"react\";\r\nimport ArrowDown from \"./ArrowDown\";\r\nimport ArrowUp from \"./ArrowUp\";\r\nimport \"../styles/thead.css\"\r\n\r\n\r\nconst Table = function ({data, sortData, getRowData, sortDirection}) {\r\n  const headers = ['id', 'device', 'product', 'vendor', 'count', 'available', 'description']\r\n  const [field, setField] = useState('')\r\n  const DirectionArrow = () => {\r\n    return (\r\n        (!sortDirection) ? <ArrowDown/> : <ArrowUp/>\r\n    )\r\n  }\r\n  const getFieldName = (field) => {\r\n    sortData(field);\r\n    setField(field);\r\n  }\r\n    return (\r\n        <div className=\"main-table\">\r\n          <table className=\"table\">\r\n            <thead>\r\n            <tr>\r\n              {headers.map((item, index) => (\r\n                  <th scope=\"col\"\r\n                      key={index * 10}\r\n                      className=\"table-cells\"\r\n                      onClick={() => {getFieldName(item)}}>\r\n                      {item} {field === item ? <DirectionArrow/> : null}\r\n                  </th>\r\n              ))}\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((item, index) => (\r\n                      <tr key={index} onClick={() => {getRowData(item)}} className=\"table-rows\">\r\n                        {Object.keys(item).map((text, index) => (\r\n                            <td key={index * 5} className=\"table-cells\">\r\n                              {(text === 'available') ? (item[text] === true ? 'Yes' : 'No') : item[text]}\r\n                            </td>\r\n                        ))}\r\n                      </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n    )\r\n}\r\nexport default Table","import React from \"react\";\r\n\r\nconst Preloader = function () {\r\n  return (\r\n      <div className=\"preloader\">\r\n        <h4>Data is being loaded</h4>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Preloader;","import React from \"react\";\r\n\r\nconst CurrentRowData = function ({row}) {\r\n  return (\r\n      <div className=\"rowData\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              {Object.keys(row).map((item, index) => (\r\n                <th scope=\"col\" key={index * 2}>{item}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              {Object.keys(row).map((item, index) => (\r\n                  <td key={index}>{item === 'available' ? ((row[item] === true ? 'Yes' : 'No')): row[item]}</td>\r\n              ))}\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default CurrentRowData;","import React from \"react\";\r\nimport \"../styles/input.css\"\r\n\r\n\r\nconst Input = function ({filterSearch}) {\r\n\r\n  return (\r\n      <div className=\"search-input\">\r\n        <input type=\"text\" placeholder=\"Filter search\" id=\"filter-input\" onChange={(e) => {filterSearch(e.target.value)}}/>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Input;","import React from \"react\";\r\n\r\nconst Filter = function ({getSelect}) {\r\n  return (\r\n      <span>\r\n        <span style={{marginRight: \"20px\"}}>Filter field:</span>\r\n        <select defaultValue=\"id\" onChange={(e) => {getSelect(e)}} style={{display: \"inline-block\"}}>\r\n        <option hidden>Select filter field</option>\r\n        <option value=\"id\">id</option>\r\n        <option value=\"device\">device</option>\r\n        <option value=\"product\">product</option>\r\n        <option value=\"vendor\">vendor</option>\r\n        <option value=\"count\">count</option>\r\n        <option value=\"available\">available</option>\r\n        <option value=\"description\">description</option>\r\n      </select>\r\n      </span>\r\n  )\r\n}\r\nexport default Filter;","import React from \"react\";\r\nimport \"../styles/pagination.css\"\r\n\r\nconst Paginator = function ({itemsPerPage, totalItemsAmount, paginate, isFiltered, filterData, getItemsPerPage}) {\r\n  const pageNumbers = []\r\n  if(!isFiltered) {\r\n    for (let i = 1; i <= Math.ceil(totalItemsAmount / itemsPerPage); i++) {\r\n      pageNumbers.push(i)\r\n    }\r\n  } else {\r\n    pageNumbers.length = 0\r\n    for(let i = 1; i <= Math.ceil(filterData.length / itemsPerPage); i++) {\r\n      pageNumbers.push(i)\r\n    }\r\n  }\r\n  return (\r\n      <div className=\"paginator\">\r\n        <p className=\"paginator-items\">Items per page: </p>\r\n        <select className=\"paginator-select\"\r\n                defaultValue=\"Items per page\"\r\n                onChange={(e) => {getItemsPerPage(e)}}\r\n        >\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"5\">5</option>\r\n        </select>\r\n        <ul className=\"pagination\">\r\n          {\r\n            pageNumbers.map((item, index) => (\r\n                <li className=\"pagination-elem\" key={index * 11}>\r\n                  <p onClick={() => {paginate(item)}}>{item}</p>\r\n                </li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </div>\r\n  )\r\n}\r\nexport default Paginator;","import React, {useEffect, useState} from \"react\";\nimport Table from \"./components/Table\";\nimport axios from \"axios\";\nimport Preloader from \"./components/Preloader\";\nimport CurrentRowData from \"./components/CurrentRowData\";\nimport Input from \"./components/Input\";\nimport Filter from \"./components/SelectFilter\";\nimport Paginator from \"./components/Paginator\";\nimport StartButton from \"./components/StartButton\";\n\n\nfunction App() {\n  const [isClicked, setIsClicked] = useState(false)\n  const [data, setData] = useState([])\n  const [isFiltered, setIsFiltered] = useState(false)\n  const [filerData, setFilterData] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [sortDirection, setSortDirection] = useState(true)\n  const [rowData, setRowData] = useState({})\n  const [select, setSelect] = useState('id')\n  const dataUrl = 'https://jupiter.avsw.ru/testcases/data'\n  const [currentPage, setCurrentPage] = useState(1)\n  const [itemsPerPage, setItemsPerPage] = useState(5)\n  const lastItemIndex = currentPage * itemsPerPage\n  const firstItemIndex = lastItemIndex - itemsPerPage\n  const [currentItems, setCurrentItems] = useState([])\n\n  const getItemsPerPage = (e) => {\n    setItemsPerPage(e.target.value)\n    if(isFiltered) {\n      setCurrentItems(filerData.slice(firstItemIndex, lastItemIndex))\n    } else {\n      setCurrentItems(data.slice(firstItemIndex, lastItemIndex))\n    }\n  }\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber)\n    console.log(currentPage)\n    console.log(firstItemIndex, lastItemIndex)\n    if(isFiltered) {\n      setCurrentItems(filerData.slice(firstItemIndex, lastItemIndex))\n    } else {\n      setCurrentItems(data.slice(firstItemIndex, lastItemIndex))\n    }\n  }\n\n  const  getSelect = (e) => {\n    setSelect(e.target.value)\n  }\n\n  const filerSearch = (value) => {\n    setIsFiltered(true)\n    const filterStr = value\n    const arrayFilter = data.filter((item, index) => {\n      return item[select].toString().toLowerCase().includes(filterStr.toLowerCase())\n    })\n    if(!filterStr) {\n      setCurrentItems(data.slice(firstItemIndex, lastItemIndex))\n      setIsFiltered(false)\n    } else {\n      setCurrentItems(arrayFilter.slice(firstItemIndex, lastItemIndex))\n      setFilterData(arrayFilter)\n    }\n  }\n\n  const sortFunction = (field) => {\n    const arrayCopy = currentItems.slice()\n    const sortArray = arrayCopy.sort((a, b) => {\n      if(sortDirection) {\n        return (a[field] > b[field] ? 1 : -1)\n      } else {\n        return (a[field] > b[field] ? -1 : 1)\n      }\n    })\n    setCurrentItems(sortArray)\n    setSortDirection(!sortDirection);\n  }\n\n  const getRowData = (item) => {\n    setRowData(item)\n  }\n\n  useEffect(() => {\n    axios.get(dataUrl)\n        .then((res) => {\n              setData(res.data.data)\n              setCurrentItems(res.data.data.slice(firstItemIndex, lastItemIndex))\n              setIsLoading(false)\n            }\n        )\n  }, [])\n\n  return (\n    <div className=\"container\">\n      {(isLoading) ? (<Preloader/>) : (<div>\n        <Input filterSearch={filerSearch}/> <Filter getSelect={getSelect}/>\n        <Table data={currentItems}\n               sortData={sortFunction}\n               getRowData={getRowData}\n               sortDirection={sortDirection}/>\n      </div>)\n      }\n      <CurrentRowData row={rowData}/>\n      <Paginator\n          itemsPerPage={itemsPerPage}\n          totalItemsAmount={data.length}\n          paginate={paginate}\n          isFiltered={isFiltered}\n          filterData={filerData}\n          getItemsPerPage={getItemsPerPage}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}